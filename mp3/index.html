<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Winter MP3 LED Widget</title>

<style>
  @font-face {
    font-family: "NeoDunggeunmo";
    src: url("https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_2107@1.1/NeoDunggeunmo.woff2")
      format("woff2");
    font-weight: normal;
    font-style: normal;
  }

  body {
    margin: 0;
    background: transparent;
  }

  /* 위젯 크기 */
  .widget {
    position: relative;
    width: 330px;
    height: 650px;
    background: url("mp3.png") no-repeat center;
    background-size: contain;
  }

  /* LED 화면 */
  .led {
    position: absolute;
    top: 85px;
    left: 38px;
    width: 254px;
    height: 155px;

    display: flex;
    align-items: center;       /* ✅ 세로 중앙 */
    justify-content: center;   /* ✅ 가로 중앙 */

    font-family: "NeoDunggeunmo", monospace;
    font-size: 20px;           /* ✅ 폰트 크기 업 */
    letter-spacing: 1px;

    color: #ffffff;            /* ✅ 완전 흰색 */
    text-align: center;

    /* LED 가독성 핵심 */
    text-shadow:
      0 0 4px rgba(255,255,255,0.9),
      0 0 8px rgba(200,230,255,0.8);

    overflow: hidden;
    white-space: nowrap;
    pointer-events: none;
  }
</style>
</head>

<body>
  <div class="widget">
    <div class="led" id="ledText"></div>
  </div>

<script>
  const messages = [
    "겨울이 천천히 로딩 중…",
    "차가운 공기, 따뜻한 음악",
    "눈 오는 날엔 플레이 버튼",
    "겨울의 소리를 듣는 중",
    "이 계절을 저장합니다"
  ];

  const led = document.getElementById("ledText");
  let msgIndex = 0;
  let charIndex = 0;
  let mode = "full";

  function showFullText() {
    led.textContent = messages[msgIndex];

    setTimeout(() => {
      led.textContent = "";
      charIndex = 0;
      mode = "typing";
    }, 1200);
  }

  function typeText() {
    const text = messages[msgIndex];
    led.textContent = text.slice(0, charIndex++);
    if (charIndex > text.length) {
      setTimeout(() => {
        msgIndex = (msgIndex + 1) % messages.length;
        mode = "full";
      }, 2000);
    }
  }

  function loop() {
    if (mode === "full") {
      showFullText();
    } else {
      typeText();
    }
  }

  setInterval(loop, 120);
</script>
</body>
</html>
